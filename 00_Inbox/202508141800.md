---
tags:
  - python符号
  - python的数据类型
aliases:
  - python符号
create date: 2025-08-11  17:38:25
modify date: 2025-08-13  18:01:31
---
1. if [ “$0” = “-bash” ]; then中的 `$0`怎么理解？跟传入的参数有关系吗？那 `$1` `$2`…呢？
    
    shell中 `$0` 代表当前执行的脚本或命令的名称，其值取决于脚本是如何被调用的
    
    - 如果执行 `./build.sh`，`$0` 的值就是 `./build.sh`
        
    - 如果执行 `/path/to/build.sh`，`$0` 的值就是 `/path/to/build.sh`
        
    
    从 `$1` `$2`……开始往后都是代表传递给脚本的参数，`$@` 代表传入的所有参数
    
    但是这个if判断比较特殊，按理来说是脚本名也不应该是 `-bash`，这是因为当在交互式登录的情况下（通过SSH登录服务器），shell的启动会带一个 `-`的前缀，此时 `$0` 的值就可能是 `-bash`，而不是脚本的名称。
    
    - 直接执行 (`./build.sh`): 会创建一个新的子 Shell 进程来运行脚本，`$0` 是 `build.sh`
        
    - Source 加载 (`source build.sh` 或 `. build.sh`): 不会创建新进程，而是在当前的 Shell 环境中逐行执行脚本命令。如果当前你处于一个登录 Shell 中，`$0` 就会是 `-bash`
        
2. `set -e` 是干嘛用的
    
    这是一个非常重要的 Shell 命令，用于增强脚本的健壮性。其作用是让脚本在遇到任何命令执行失败（即返回非零退出状态码）时，立即退出。在默认情况下，如果脚本中的某条命令执行失败，Shell 会忽略这个错误并继续执行下一条命令。这可能会导致非常危险的后果。
    
3. L_PREFIX=build 这是给 `L_PREFIX` 赋一个字符值的意思吗？if [ “${L_PREFIX}” != “” ];then L_PREFIX=“[${L_PREFIX}]-” fi
    
4. f_determin_dir $0中的 `$0` 是什么意思？